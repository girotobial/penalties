(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function $(){}function ge(e){return e()}function de(){return Object.create(null)}function Q(e){e.forEach(ge)}function me(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ye(e){return Object.keys(e).length===0}function g(e,t){e.appendChild(t)}function W(e,t,n){e.insertBefore(t,n||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function Le(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function J(e){return document.createTextNode(e)}function S(){return J(" ")}function K(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function le(e){return e===""?null:+e}function ke(e){return Array.from(e.childNodes)}function se(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ne(e,t){e.value=t??""}function we(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,i,t),s}let x;function Z(e){x=e}function Ce(){if(!x)throw new Error("Function called outside component initialization");return x}function he(){const e=Ce();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const l=we(t,n,{cancelable:i});return s.slice().forEach(o=>{o.call(e,l)}),!l.defaultPrevented}return!0}}const U=[],R=[];let G=[];const ue=[],je=Promise.resolve();let oe=!1;function Ee(){oe||(oe=!0,je.then(be))}function ae(e){G.push(e)}function B(e){ue.push(e)}const re=new Set;let H=0;function be(){if(H!==0)return;const e=x;do{try{for(;H<U.length;){const t=U[H];H++,Z(t),Pe(t.$$)}}catch(t){throw U.length=0,H=0,t}for(Z(null),U.length=0,H=0;R.length;)R.pop()();for(let t=0;t<G.length;t+=1){const n=G[t];re.has(n)||(re.add(n),n())}G.length=0}while(U.length);for(;ue.length;)ue.pop()();oe=!1,re.clear(),Z(e)}function Pe(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}function Re(e){const t=[],n=[];G.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),G=t}const ie=new Set;let z;function Ne(){z={r:0,c:[],p:z}}function Oe(){z.r||Q(z.c),z=z.p}function P(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function A(e,t,n,i){if(e&&e.o){if(ie.has(e))return;ie.add(e),z.c.push(()=>{ie.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function F(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function q(e){e&&e.c()}function M(e,t,n,i){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),i||ae(()=>{const o=e.$$.on_mount.map(ge).filter(me);e.$$.on_destroy?e.$$.on_destroy.push(...o):Q(o),e.$$.on_mount=[]}),l.forEach(ae)}function T(e,t){const n=e.$$;n.fragment!==null&&(Re(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Se(e,t){e.$$.dirty[0]===-1&&(U.push(e),Ee(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(e,t,n,i,s,l,o,a=[-1]){const r=x;Z(e);const c=e.$$={fragment:null,ctx:[],props:l,update:$,not_equal:s,bound:de(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:de(),dirty:a,skip_bound:!1,root:t.target||r.$$.root};o&&o(c.root);let _=!1;if(c.ctx=n?n(e,t.props||{},(u,p,...b)=>{const E=b.length?b[0]:p;return c.ctx&&s(c.ctx[u],c.ctx[u]=E)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](E),_&&Se(e,u)),p}):[],c.update(),_=!0,Q(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const u=ke(t.target);c.fragment&&c.fragment.l(u),u.forEach(D)}else c.fragment&&c.fragment.c();t.intro&&P(e.$$.fragment),M(e,t.target,t.anchor,t.customElement),be()}Z(r)}class Y{$destroy(){T(this,1),this.$destroy=$}$on(t,n){if(!me(n))return $;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ae(e){let t,n,i;return{c(){t=L("div"),n=L("p"),i=J(e[0]),f(n,"class","svelte-lbxcag"),f(t,"class","text-danger centered svelte-lbxcag")},m(s,l){W(s,t,l),g(t,n),g(n,i)},p(s,[l]){l&1&&se(i,s[0])},i:$,o:$,d(s){s&&D(t)}}}function Be(e,t,n){let{points:i=0}=t;return e.$$set=s=>{"points"in s&&n(0,i=s.points)},[i]}class Fe extends Y{constructor(t){super(),X(this,t,Be,Ae,V,{points:0})}}function Me(e){let t,n,i,s,l,o,a;return{c(){t=L("div"),n=L("label"),i=J(e[1]),s=S(),l=L("input"),f(n,"class","form-check-label"),f(n,"for","tickbox"),f(l,"class","form-check-input"),f(l,"type","checkbox"),f(l,"id","tickbox"),f(t,"class","form-check form-switch")},m(r,c){W(r,t,c),g(t,n),g(n,i),g(t,s),g(t,l),l.checked=e[0],o||(a=K(l,"change",e[2]),o=!0)},p(r,[c]){c&2&&se(i,r[1]),c&1&&(l.checked=r[0])},i:$,o:$,d(r){r&&D(t),o=!1,a()}}}function Te(e,t,n){let{value:i}=t,{label:s}=t;function l(){i=this.checked,n(0,i)}return e.$$set=o=>{"value"in o&&n(0,i=o.value),"label"in o&&n(1,s=o.label)},[i,s,l]}class ce extends Y{constructor(t){super(),X(this,t,Te,Me,V,{value:0,label:1})}}function $e(e){let t,n,i,s,l,o,a,r,c,_;return{c(){t=L("div"),n=L("div"),i=L("span"),s=J(e[3]),l=S(),o=L("input"),a=S(),r=L("input"),f(i,"class","input-group-text"),f(i,"id","name"),f(o,"type","number"),f(o,"class","form-control"),f(o,"aria-label",e[4]),f(n,"class","input-group"),f(r,"class","form-range"),f(r,"type","range"),f(r,"min",e[2]),f(r,"max",e[1]),f(r,"step","1"),f(r,"aria-label",e[5]),f(t,"class","mb-3")},m(u,p){W(u,t,p),g(t,n),g(n,i),g(i,s),g(n,l),g(n,o),ne(o,e[0]),g(t,a),g(t,r),ne(r,e[0]),c||(_=[K(o,"input",e[7]),K(o,"change",e[6]),K(r,"change",e[8]),K(r,"input",e[8]),K(r,"change",e[6])],c=!0)},p(u,[p]){p&8&&se(s,u[3]),p&16&&f(o,"aria-label",u[4]),p&1&&le(o.value)!==u[0]&&ne(o,u[0]),p&4&&f(r,"min",u[2]),p&2&&f(r,"max",u[1]),p&32&&f(r,"aria-label",u[5]),p&1&&ne(r,u[0])},i:$,o:$,d(u){u&&D(t),c=!1,Q(_)}}}function qe(e,t,n){let i,s,{value:l}=t,{max:o}=t,{min:a}=t,{name:r}=t;const c=he();function _(){c("change")}function u(){l=le(this.value),n(0,l)}function p(){l=le(this.value),n(0,l)}return e.$$set=b=>{"value"in b&&n(0,l=b.value),"max"in b&&n(1,o=b.max),"min"in b&&n(2,a=b.min),"name"in b&&n(3,r=b.name)},e.$$.update=()=>{e.$$.dirty&8&&n(5,i=r+"-slider"),e.$$.dirty&8&&n(4,s=r+"-input")},[l,o,a,r,s,i,_,u,p]}class ve extends Y{constructor(t){super(),X(this,t,qe,$e,V,{value:0,max:1,min:2,name:3})}}function Ie(e){let t,n,i,s,l,o,a,r,c,_,u,p,b;function E(m){e[4](m)}let N={label:"First Lap"};e[0]!==void 0&&(N.value=e[0]),s=new ce({props:N}),R.push(()=>F(s,"value",E));function O(m){e[5](m)}let y={label:"Unsafe Rejoin"};e[1]!==void 0&&(y.value=e[1]),r=new ce({props:y}),R.push(()=>F(r,"value",O));function h(m){e[6](m)}let k={name:"Cars Effected",min:1,max:10};return e[2]!==void 0&&(k.value=e[2]),u=new ve({props:k}),R.push(()=>F(u,"value",h)),u.$on("change",e[3]),{c(){t=L("div"),n=L("div"),i=L("div"),q(s.$$.fragment),o=S(),a=L("div"),q(r.$$.fragment),_=S(),q(u.$$.fragment),f(i,"class","col-sm-4"),f(i,"title","doubles penalty points for the first lap"),f(a,"class","col-sm-4"),f(a,"title","5 points for unsafe rejoin"),f(n,"class","row mb-3"),f(t,"class","container-sm options svelte-o9fr90")},m(m,j){W(m,t,j),g(t,n),g(n,i),M(s,i,null),g(n,o),g(n,a),M(r,a,null),g(t,_),M(u,t,null),b=!0},p(m,[j]){const v={};!l&&j&1&&(l=!0,v.value=m[0],B(()=>l=!1)),s.$set(v);const ee={};!c&&j&2&&(c=!0,ee.value=m[1],B(()=>c=!1)),r.$set(ee);const d={};!p&&j&4&&(p=!0,d.value=m[2],B(()=>p=!1)),u.$set(d)},i(m){b||(P(s.$$.fragment,m),P(r.$$.fragment,m),P(u.$$.fragment,m),b=!0)},o(m){A(s.$$.fragment,m),A(r.$$.fragment,m),A(u.$$.fragment,m),b=!1},d(m){m&&D(t),T(s),T(r),T(u)}}}function ze(e,t,n){let{firstLap:i}=t,{unsafeRejoin:s}=t,{numCars:l}=t;const o=he();function a(){o("change")}function r(u){i=u,n(0,i)}function c(u){s=u,n(1,s)}function _(u){l=u,n(2,l)}return e.$$set=u=>{"firstLap"in u&&n(0,i=u.firstLap),"unsafeRejoin"in u&&n(1,s=u.unsafeRejoin),"numCars"in u&&n(2,l=u.numCars)},[i,s,l,a,r,c,_]}class De extends Y{constructor(t){super(),X(this,t,ze,Ie,V,{firstLap:0,unsafeRejoin:1,numCars:2})}}function He(e){let t,n,i,s,l,o,a,r,c,_,u,p;function b(y){e[3](y)}let E={label:"Contact"};e[0]!==void 0&&(E.value=e[0]),a=new ce({props:E}),R.push(()=>F(a,"value",b));function N(y){e[4](y)}let O={name:"Places Lost",min:Ke,max:Ue};return e[1]!==void 0&&(O.value=e[1]),_=new ve({props:O}),R.push(()=>F(_,"value",N)),{c(){t=L("div"),n=L("label"),i=J("Car "),s=J(e[2]),l=S(),o=L("div"),q(a.$$.fragment),c=S(),q(_.$$.fragment),f(n,"class","text-secondary"),f(n,"for","carSettings"),f(o,"class","mb-3"),f(o,"id","carSettings"),f(t,"class","mb-3")},m(y,h){W(y,t,h),g(t,n),g(n,i),g(n,s),g(t,l),g(t,o),M(a,o,null),g(o,c),M(_,o,null),p=!0},p(y,[h]){(!p||h&4)&&se(s,y[2]);const k={};!r&&h&1&&(r=!0,k.value=y[0],B(()=>r=!1)),a.$set(k);const m={};!u&&h&2&&(u=!0,m.value=y[1],B(()=>u=!1)),_.$set(m)},i(y){p||(P(a.$$.fragment,y),P(_.$$.fragment,y),p=!0)},o(y){A(a.$$.fragment,y),A(_.$$.fragment,y),p=!1},d(y){y&&D(t),T(a),T(_)}}}const Ke=0,Ue=50;function Ge(e,t,n){let{id:i=1}=t,{contact:s}=t,{placesLost:l}=t;function o(r){s=r,n(0,s)}function a(r){l=r,n(1,l)}return e.$$set=r=>{"id"in r&&n(2,i=r.id),"contact"in r&&n(0,s=r.contact),"placesLost"in r&&n(1,l=r.placesLost)},[s,l,i,o,a]}class Je extends Y{constructor(t){super(),X(this,t,Ge,He,V,{id:2,contact:0,placesLost:1})}}function _e(e,t,n){const i=e.slice();return i[15]=t[n],i[16]=t,i[17]=n,i}function pe(e){let t,n,i,s;function l(r){e[13](r,e[15])}function o(r){e[14](r,e[15])}let a={id:e[17]+1};return e[15].contact!==void 0&&(a.contact=e[15].contact),e[15].placesLost!==void 0&&(a.placesLost=e[15].placesLost),t=new Je({props:a}),R.push(()=>F(t,"contact",l)),R.push(()=>F(t,"placesLost",o)),{c(){q(t.$$.fragment)},m(r,c){M(t,r,c),s=!0},p(r,c){e=r;const _={};!n&&c&4&&(n=!0,_.contact=e[15].contact,B(()=>n=!1)),!i&&c&4&&(i=!0,_.placesLost=e[15].placesLost,B(()=>i=!1)),t.$set(_)},i(r){s||(P(t.$$.fragment,r),s=!0)},o(r){A(t.$$.fragment,r),s=!1},d(r){T(t,r)}}}function Qe(e){let t,n,i,s,l,o,a,r,c,_,u,p,b,E,N,O;l=new Fe({props:{points:e[4]}});function y(d){e[10](d)}function h(d){e[11](d)}function k(d){e[12](d)}let m={};e[0]!==void 0&&(m.firstLap=e[0]),e[1]!==void 0&&(m.unsafeRejoin=e[1]),e[3]!==void 0&&(m.numCars=e[3]),a=new De({props:m}),R.push(()=>F(a,"firstLap",y)),R.push(()=>F(a,"unsafeRejoin",h)),R.push(()=>F(a,"numCars",k)),a.$on("change",e[5]);let j=e[2],v=[];for(let d=0;d<j.length;d+=1)v[d]=pe(_e(e,j,d));const ee=d=>A(v[d],1,1,()=>{v[d]=null});return{c(){t=L("main"),n=L("div"),i=L("div"),i.innerHTML=`<h1 class="text-primary">Penalties Calculator</h1> 
      <p class="lead">For when you&#39;re just too fucking tired to do maths</p>`,s=S(),q(l.$$.fragment),o=S(),q(a.$$.fragment),u=S(),p=L("div"),b=L("h2"),b.textContent="Cars",E=S(),N=L("ul");for(let d=0;d<v.length;d+=1)v[d].c();f(i,"class","content svelte-1d0t82o"),f(b,"class","text-secondary"),f(p,"class","container-sm cars svelte-1d0t82o"),f(n,"class","container-sm")},m(d,w){W(d,t,w),g(t,n),g(n,i),g(n,s),M(l,n,null),g(n,o),M(a,n,null),g(n,u),g(n,p),g(p,b),g(p,E),g(p,N);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(N,null);O=!0},p(d,[w]){const I={};w&16&&(I.points=d[4]),l.$set(I);const te={};if(!r&&w&1&&(r=!0,te.firstLap=d[0],B(()=>r=!1)),!c&&w&2&&(c=!0,te.unsafeRejoin=d[1],B(()=>c=!1)),!_&&w&8&&(_=!0,te.numCars=d[3],B(()=>_=!1)),a.$set(te),w&4){j=d[2];let C;for(C=0;C<j.length;C+=1){const fe=_e(d,j,C);v[C]?(v[C].p(fe,w),P(v[C],1)):(v[C]=pe(fe),v[C].c(),P(v[C],1),v[C].m(N,null))}for(Ne(),C=j.length;C<v.length;C+=1)ee(C);Oe()}},i(d){if(!O){P(l.$$.fragment,d),P(a.$$.fragment,d);for(let w=0;w<j.length;w+=1)P(v[w]);O=!0}},o(d){A(l.$$.fragment,d),A(a.$$.fragment,d),v=v.filter(Boolean);for(let w=0;w<v.length;w+=1)A(v[w]);O=!1},d(d){d&&D(t),T(l),T(a),Le(v,d)}}}function Ve(e,t,n){let i,s,l,o,a=!1,r=1,c=!1,_=1,u=[{contact:!0,placesLost:0}];function p(){let h=[];for(let k=0;k<_;k++)h.push({contact:!0,placesLost:0});n(2,u=h)}function b(h){a=h,n(0,a)}function E(h){c=h,n(1,c)}function N(h){_=h,n(3,_)}function O(h,k){e.$$.not_equal(k.contact,h)&&(k.contact=h,n(2,u))}function y(h,k){e.$$.not_equal(k.placesLost,h)&&(k.placesLost=h,n(2,u))}return e.$$.update=()=>{e.$$.dirty&2&&n(7,i=Number(c)*5),e.$$.dirty&1&&(a?n(6,r=2):n(6,r=1)),e.$$.dirty&4&&n(9,s=u.reduce((h,k)=>h+k.placesLost,0)),e.$$.dirty&4&&n(8,l=u.reduce((h,k)=>h+Number(k.contact),0)),e.$$.dirty&960&&n(4,o=r*(.5*s+l+i))},[a,c,u,_,o,p,r,i,l,s,b,E,N,O,y]}class We extends Y{constructor(t){super(),X(this,t,Ve,Qe,V,{})}}new We({target:document.getElementById("app")});
